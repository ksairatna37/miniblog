{% extends "blog/base.html" %}

{% load static %}

{% block docname %}
MiniBlog | Dashboard
{% endblock docname %}

{% block content %}

<div class="col-sm-10">
    <h1 class="text-black display-5 fw-bold my-3 px-5">This is Dashboard</h1>
    <a href="{% url 'addpost'%}" class="btn btn-success my-3">Add Post</a>
    <h4 class="text-center alert alert-info">Show Post Information</h4>
    {% if Posts %}
    <table class="table table-hover bg-white">
        <thead>
          <tr class="text-center">
            <th scope="col" style="width:2%">ID</th>
            <th scope="col" style="width:28%">Title</th>
            <th scope="col" style="width:55%">Description</th>
            <th scope="col" style="width:15%">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for post in Posts %}
            <tr>
                <th scope="row">{{post.id}}</th>
                <td>{{post.title}}</td>
                <td>{{post.desc}}</td>
                <td class="text-center">
                    <a href="{% url 'updatepost' post.id %}" class="btn btn-warning btn-sm">Edit</a>
                    <form action="{% url 'deletepost' post.id %}" method="POST" class="d-inline">{% csrf_token %}
                    <input type="submit" class="btn btn-danger btn-sm" value="Delete"></form>
                </td>
            </tr>
          {% endfor%}
        </tbody>
      </table>
    {% endif%}
</div>

{% endblock content %}